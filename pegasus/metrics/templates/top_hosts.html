{% extends "layout.html" %}
{% import 'forms.html' as forms %}
{% block body %}
{{forms.period_form(form)}}
{{forms.limit_form(limit_f)}}
<h2>Top Hosts</h2>
<table id="top_hosts">
    <thead>
        <tr><th>Rank</th><th>Host</th><th>Workflows</th><th>Tasks</th><th>Jobs</th></tr>
    </thead>
    <tbody>
        {% for host in hosts: %}
        <tr>
            <td>{{loop.index}}</td>
            <td class="nowrap">{{host["hostname"]}}</td>
            <td class="right">{{host["workflows"] | decimal}}</td>
            <td class="right">{{host["tasks"] | decimal}}</td>
            <td class="right">{{host["jobs"] | decimal}}</td>
        </tr>
        {% else %}
        <tr>
            <td colspan="5" class="nodata">No Data</td>
            <td style="display:none">These dummy items keep DataTable happy</td>
            <td style="display:none">These dummy items keep DataTable happy</td>
            <td style="display:none">These dummy items keep DataTable happy</td>
            <td style="display:none">These dummy items keep DataTable happy</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
<script>
    $("#top_hosts").DataTable();
</script>
{% endblock %}

