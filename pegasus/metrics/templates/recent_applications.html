{% extends "layout.html" %}
{% import 'forms.html' as forms %}
{% block body %}
{{forms.limit_form(form)}}
<h2>Recent Applications</h2>
<table id="recentApplications">
    <thead>
    <tr><th>ID</th><th>Timestamp</th><th>Hostname</th><th>Application</th></tr>
    </thead>
    <tbody>
    {% for app in applications: %}
    <tr>
        <td><a href="{{ url_for('planner_metric', objid=app["id"]) }}">{{app["id"]}}</a></td>
        <td class="nowrap">{{app["ts"] | timestamp}}</td>
        <td>{{app["hostname"]}}</td>
        <td class="monospaced">{{app["application"]}}</td>
    </tr>
    {% else %}
    <tr>
        <td colspan="4" class="nodata">No Data</td>
        <td style="display:none">These dummy items keep DataTable happy</td>
        <td style="display:none">These dummy items keep DataTable happy</td>
        <td style="display:none">These dummy items keep DataTable happy</td>
    </tr>
    {% endfor %}
    </tbody>
</table>
<script>
    $("#recentApplications").DataTable();
</script>
{% endblock %}